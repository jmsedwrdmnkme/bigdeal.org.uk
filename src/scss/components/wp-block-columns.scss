//
// Gutenberg columns block
//

.wp-block-columns {
  p + & {
    &:first-of-type {
      @extend .mt-5;
    }
  }

  + *:not(.wp-block-columns):not(.wp-block-buttons) {
    @extend .mt-5;
  }
}

.wp-block-column {
  &:not(:first-child) {
    @include media-breakpoint-down(sm) {
      margin-top: 2rem;
    }

    @include media-breakpoint-up(md) {
      margin-left: 1rem;
    }
  }

  &.card {
    padding: ($spacer * 1.5);

    h2,
    h3,
    h4,
    h5,
    h6 {
      @extend .card-title;
    }

    p {
      @extend .card-text;

      &:not(.strip) {
        a {
          &:not(.wp-block-button__link) {
            display: inline-block;
            position: relative;
            text-decoration: none;
            font-weight: $font-weight-bold;
            margin-top: $spacer;

            &::before {
              content: '';
              display: inline-block;
              background-image: url("data:image/svg+xml,%3Csvg width='17' height='19' viewBox='0 0 17 19' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.5 8.63397C17.1667 9.01887 17.1667 9.98113 16.5 10.366L2.25 18.5933C1.58333 18.9782 0.75 18.497 0.75 17.7272V1.27276C0.75 0.502958 1.58333 0.0218328 2.25 0.406733L16.5 8.63397Z' fill='%23F7C844'/%3E%3C/svg%3E%0A");
              height: 1rem;
              width: 1rem;
              background-repeat: no-repeat;
              background-position: 50% 50%;
              background-size: 100%;
              margin: 0 .5rem -0.2em 0;
            }
          }
        }
      }
    }

    .is-style-fill {
      .wp-block-button__link {
        background-color: $primary !important;
      }
    }
  }

  [src*="icon"] {
    max-height: 6.5rem;
  }
}

.footer-link {
  text-decoration: none;
  font-weight: bold;
  @extend .mt-4;
  @extend .mb-1;

  &::before {
    content: '';
    display: inline-block;
    background-image: url("data:image/svg+xml,%3Csvg width='17' height='19' viewBox='0 0 17 19' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.5 8.63397C17.1667 9.01887 17.1667 9.98113 16.5 10.366L2.25 18.5933C1.58333 18.9782 0.75 18.497 0.75 17.7272V1.27276C0.75 0.502958 1.58333 0.0218328 2.25 0.406733L16.5 8.63397Z' fill='%23F7C844'/%3E%3C/svg%3E%0A");
    height: 1rem;
    width: 1rem;
    background-repeat: no-repeat;
    background-position: 50% 50%;
    background-size: 100%;
    margin: 0 .5rem -0.2em 0;
  }
}

// Block colour headings card blocks
.block-heading {
  &.card { 
    h3 {
      @extend .mt-n3;
      @extend .mx-n3;
      @extend .mb-4;
      @extend .py-2;
      @extend .px-3;
      color: $white;
      background-position: calc(100% - #{$spacer}) 50%;
      background-repeat: no-repeat;
    }

    &.blue {
      h3 {
        padding-right: 5rem;
        background-color: $blue;
        background-image: url("data:image/svg+xml,%3Csvg width='49' height='46' viewBox='0 0 49 46' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M41.7915 37.8C50.6915 29.8 51.3915 16.1 41.6915 8.39997C36.5915 4.29997 31.3915 0.299972 24.4915 1.09997C18.4915 1.79997 11.7915 4.59997 7.09151 8.29997C-2.80849 16.3 -1.90849 30.8 7.09151 39.4C16.7915 48.8 31.5915 45.7 41.4915 38C42.9915 36.8 41.4915 34.2 39.9915 35.4C32.8915 40.9 20.7915 45.3 12.4915 39.9C2.59151 33.4 -1.00849 18.8 8.89151 10.7C12.4915 7.79997 16.8915 6.09997 21.2915 4.89997C27.7915 3.09997 32.1915 4.99997 37.2915 8.89997C41.8915 12.4 45.4915 15.8 45.7915 21.9C46.0915 27.4 43.6915 32 39.6915 35.7C38.1915 37 40.2915 39.1 41.7915 37.8Z' fill='white'/%3E%3Cpath d='M19.992 12.8C19.392 13.8 18.192 15 16.192 15.9C14.292 16.8 12.292 17 11.292 16.8' stroke='white' stroke-width='2.5' stroke-miterlimit='10' stroke-linecap='round'/%3E%3Cpath d='M16.4914 23.7C16.0914 24.4 15.1914 24.5 14.4914 24.1C13.7914 23.7 13.6914 22.8 14.0914 22.1L16.0914 21.7C16.7914 22.2 16.8914 23.1 16.4914 23.7Z' stroke='white' stroke-width='2.5' stroke-miterlimit='10' stroke-linecap='round'/%3E%3Cpath d='M20.0914 32.9999C20.7914 32.6999 25.3914 32.6999 26.0914 32.9999C26.6914 33.2999 26.6914 33.9999 26.0914 33.9999H20.0914C19.3914 33.9999 19.3914 33.1999 20.0914 32.9999Z' stroke='white' stroke-width='2.5' stroke-miterlimit='10' stroke-linecap='round'/%3E%3Cpath d='M26.0918 12.8C26.6918 13.8 27.8918 15 29.8918 15.9C31.7918 16.8 33.7918 17 34.7918 16.8' stroke='white' stroke-width='2.5' stroke-miterlimit='10' stroke-linecap='round'/%3E%3Cpath d='M29.5914 23.7C29.9914 24.4 30.8914 24.5 31.5914 24.1C32.2914 23.7 32.3914 22.8 31.9914 22.1L29.9914 21.7C29.2914 22.2 29.1914 23.1 29.5914 23.7Z' stroke='white' stroke-width='2.5' stroke-miterlimit='10' stroke-linecap='round'/%3E%3C/svg%3E%0A");
      }
    }

    &.red {
      h3 {
        padding-right: 5rem;
        background-color: $red;
        background-image: url("data:image/svg+xml,%3Csvg width='48' height='44' viewBox='0 0 48 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20.4811 21.2C19.7811 22.1 18.5811 22.7999 16.7811 22.7999C15.1811 22.7999 13.7811 22 13.0811 21.2' stroke='white' stroke-width='2.5' stroke-miterlimit='10' stroke-linecap='round'/%3E%3Cpath d='M35.6813 21.2C34.9813 22.1 33.7813 22.7999 31.9813 22.7999C30.3813 22.7999 28.9812 22 28.2812 21.2' stroke='white' stroke-width='2.5' stroke-miterlimit='10' stroke-linecap='round'/%3E%3Cpath d='M16.6813 0.299969C5.08133 2.29997 -3.31867 13.8 1.28133 25.4C3.28133 30.5 5.18133 37.2 10.0813 40.5C14.8813 43.7 24.4813 43.5 30.0813 42.9C35.4813 42.3 40.8813 40.3 44.1813 35.8C47.8813 30.6 48.3813 22.3 47.5813 16.2C45.5813 1.79997 28.9813 -1.00003 17.0813 0.299969C15.1813 0.499969 15.1813 3.49997 17.0813 3.29997C26.6813 2.19997 40.8813 3.39997 44.0813 14.4C45.5813 19.4 44.9813 27.8 42.5813 32.4C39.8813 37.7 34.0813 39.6 28.5813 40C23.7813 40.4 17.4813 40.3 13.0813 38.6C8.78133 36.9 7.38133 32 5.78133 28.1C3.28133 22.2 1.68133 17.3 5.18133 11.2C7.88133 6.49997 12.2813 4.09997 17.4813 3.19997C19.3813 2.89997 18.5813 -3.14415e-05 16.6813 0.299969Z' fill='white'/%3E%3Cpath d='M21.3809 32.2999C21.9809 31.7999 23.1809 31.2 24.7809 31.2C26.2809 31.2 27.5809 31.6999 28.1809 32.2999' stroke='white' stroke-width='2.5' stroke-miterlimit='10' stroke-linecap='round'/%3E%3C/svg%3E%0A");
      }
    }

    > *:not(ul):last-child {
      margin-top: auto;
    }
  }
}

// Heading number styling
h3 {
  &.space {
    overflow: hidden;
    font-size: 1.66rem !important;
  }

  strong {
    font-family: $headings-font-family !important;
    background: white;
    border-radius: 50%;
    display: inline-block;
    padding: 0.75rem;
    margin: -2rem 0;
    position: relative;
    top: -0.33rem;
    font-size: 3.666rem;
    vertical-align: middle;

    @include media-breakpoint-between(sm, lg) {
      display: none;
    }
  }
}

// About page Gamcare block
.gamcare {
  background-color: $white;
  background-image: url("data:image/svg+xml,%3Csvg width='32' height='31' viewBox='0 0 32 31' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M25.4977 17C22.4977 17 19.0977 20.1 19.0977 22.9C19.0977 26.9 22.2977 30.2 26.1977 30.2C28.6977 30.2 31.8977 27.2 31.9977 24.6C31.9977 20.2 29.3977 17.1 25.4977 17Z' fill='%23E83942'/%3E%3Cpath d='M6.5 0C10.4 0 13.1 3.20001 12.9 7.60001C12.8 10.2 9.7 13.2 7.1 13.2C3.2 13.2 0 9.89999 0 5.89999C0 3.19999 3.4 0 6.5 0Z' fill='%235ECBD4'/%3E%3C/svg%3E%0A");
  background-repeat: no-repeat;
  background-position: calc(100% - 1rem) 1rem;
  border-radius: $card-border-radius;
  padding: $card-spacer-y $card-spacer-x;
  box-shadow: .55rem .55rem .75rem .25rem rgba($purple , 0.1);
  @extend .mx-lg-5;

  .wp-block-column {
    &:first-child {
      @extend .bg-primary;
      @extend .m-n4;
    }

    &:not(:first-child) {
      @include media-breakpoint-down(sm) {
        padding-top: 2rem;
      }

      @include media-breakpoint-up(md) {
        margin-left: 6em;
      }
    }
  }

  .wp-block-image {
    @extend .m-n5;
    position: relative;
    top: 2rem;

    @include media-breakpoint-between(md, lg) {
      left: 2.35rem;
    }

    @include media-breakpoint-up(lg) {
      top: 2.05rem;
      left: 3.65rem;
    }

    img {
      @include media-breakpoint-down(sm) {
        max-height: 6.5rem;
        width: auto;
      }
    }
  }

  p {
    margin: 0;
  }
}

.gambling-risk {
  position: relative;

  @include media-breakpoint-up(md) {
    overflow: hidden;
    background-image: url("data:image/svg+xml,%3Csvg width='18' height='33' viewBox='0 0 18 33' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.2873 7.59195C11.4616 7.12983 11.6148 6.84625 11.6218 6.78674C11.6289 6.72723 11.7019 6.61519 11.775 6.50316C12.0082 6.04804 12.1614 5.76446 12.1826 5.58592L12.2532 4.99078C12.2744 4.81224 12.2886 4.69322 12.2367 4.62671C12.2367 4.62671 12.0671 4.54621 11.8903 4.52523C11.4709 4.53578 10.8536 4.70389 10.1113 4.91753C9.36204 5.19068 8.79654 5.42529 8.47373 5.62838C8.14386 5.89097 7.67498 6.31812 7.10478 7.09535C6.54166 7.81307 6.18352 8.31372 6.15526 8.55177C6.06808 8.78283 5.98091 9.01389 5.84896 9.11893C5.71701 9.22397 5.61571 9.57405 5.43429 10.0957C5.25288 10.6173 5.15158 10.9674 5.13744 11.0864C5.11624 11.265 5.16809 11.3315 5.34481 11.3525C5.63229 11.4469 5.55924 11.559 5.00787 11.6746C4.9419 11.7271 4.76517 11.7061 4.52954 11.6781C4.29391 11.6501 4.17609 11.6362 4.12425 11.5697C3.59408 11.5067 3.3066 11.4122 3.20999 11.2197C2.91544 11.1847 2.57613 11.0237 2.25094 10.7437C1.92576 10.4637 1.72546 10.1381 1.64297 9.82658C1.37194 8.58736 1.61695 7.5301 2.38506 6.59531C2.86571 5.56604 3.36286 4.90084 3.81055 4.65223C4.46084 3.70345 4.81898 3.20281 4.89202 3.09077C5.02397 2.98574 5.08995 2.93322 5.20776 2.9472C5.36091 2.66363 5.44102 2.49208 5.44808 2.43257C5.45515 2.37305 5.5871 2.26802 5.84393 2.11745C6.10076 1.96689 6.35052 1.87584 6.48247 1.7708C6.80528 1.56772 6.94429 1.40317 6.95843 1.28414C7.13515 1.30513 7.31894 1.2666 7.50273 1.22807C7.92216 1.21751 8.17899 1.06695 8.318 0.902399C8.49473 0.923382 8.85524 0.905835 9.40661 0.790244C9.95799 0.674653 10.6719 0.699072 11.6003 0.930008C11.7111 1.00351 11.9915 1.15751 12.3756 1.44452C12.7597 1.73154 12.9812 1.87854 13.0401 1.88554C13.0919 1.95204 13.1508 1.95904 13.2616 2.03254C13.4902 2.12003 13.6457 2.31955 13.7941 2.57859C14.0227 2.66608 14.2442 2.81309 14.4657 2.96009C14.732 3.23312 15.0572 3.51314 15.4554 3.68112L16.1128 4.18165C16.4592 4.28313 16.7467 4.37761 16.9234 4.3986C17.0412 4.41259 17.1379 4.60511 17.2651 5.04269C17.1474 6.53752 16.2591 8.48404 14.6075 10.8227C14.5273 10.9943 14.3082 11.3304 14.0302 11.6595C13.7451 12.0481 13.592 12.3317 13.5708 12.5102C13.1985 13.1299 12.2419 14.6458 10.6939 17.1175C9.14592 19.5892 8.26237 20.9931 7.97727 21.3818C7.97727 21.3818 7.85239 21.4273 7.71337 21.5918C7.57436 21.7564 7.50838 21.8089 7.44241 21.8614L7.15025 22.3096C7.13611 22.4286 6.94526 22.5266 6.64365 22.5512C6.45986 22.5897 6.21716 22.6212 6.0475 22.5407L4.69262 22.3799C3.99985 22.1769 3.6676 21.9564 3.55685 21.8829C3.45317 21.7499 3.43665 21.3858 3.50732 20.7907C3.73344 18.8862 4.27061 17.3809 5.17774 16.2815C5.55707 15.6023 5.8563 15.0947 6.1414 14.7061C6.42649 14.3175 6.63855 14.0409 6.72572 13.8098C6.8129 13.5788 7.08386 13.3092 7.54568 12.9415C7.77893 12.4864 7.99099 12.2098 8.19598 11.9927C8.32086 11.9472 8.59183 11.6776 8.88399 11.2295C9.23506 10.7884 9.39527 10.4453 9.4094 10.3263C9.4306 10.1477 9.56255 10.0427 9.81938 9.89211C9.83352 9.77309 9.91362 9.60154 10.1186 9.38447C10.1681 8.96787 10.2623 8.6773 10.4602 8.51975C10.6582 8.36219 10.7453 8.13113 10.7736 7.89308C10.8678 7.6025 10.9927 7.55698 11.2873 7.59195ZM2.36714 26.8716C2.4166 26.455 2.56268 26.2309 2.68757 26.1854C2.81245 26.1399 2.93027 26.1539 2.98211 26.2204C3.09286 26.2939 3.55706 26.4093 4.49252 26.5808C4.74466 26.9728 4.90019 27.1723 5.06985 27.2528C5.69195 28.0509 6.06898 28.3975 6.30461 28.4254C6.54024 28.4534 6.62979 28.7055 6.52849 29.0555C6.48609 29.4126 6.26697 29.7487 5.98894 30.0778C5.47059 30.9216 4.86269 31.5133 4.1511 31.9719C3.84243 32.056 3.59973 32.0875 3.423 32.0666C3.24628 32.0456 2.78208 31.9301 2.08932 31.7271C1.33764 31.5172 0.95355 31.2302 0.878131 30.8591L0.998257 29.8474C1.06185 29.3118 1.15609 29.0212 1.28804 28.9162C1.46477 28.9371 1.55194 28.7061 1.6014 28.2895L1.82521 27.4108C2.01607 27.3127 2.21399 27.1552 2.36714 26.8716Z' fill='white'/%3E%3C/svg%3E%0A");
    background-repeat: no-repeat;
    background-position: calc(100% - 1rem) 1rem;

    &::before {
      z-index: 0;
      position: absolute;
      content: '';
      box-shadow: -13rem 0 1rem white;
      height: 200%;
      width: 100%;
      border-radius: 50%;
      top: 50%;
      left: 11%;
      transform: translateY(-50%);
    }

    > * {
      position: relative;
    }
  }
}

.gambling-navigation {
  .wp-block-button {
    @extend .w-100;
    display: block;
  }

  .wp-block-button__link {
    display: block;
    font-size: 0.875rem !important;
  }
}

.border-dashed {
  border-style: dashed !important;
}

.position-sm-absolute {
  @include media-breakpoint-up(sm) {
    position: absolute;
  }
}

.personal-stories-post {
  @include media-breakpoint-down(sm) {
    &:last-child {
      display: none;
    }
  }
}

.card {
  @include media-breakpoint-up(md) {
    .wp-block-image {
      &[class*=mb] {
        margin-bottom: -1.66667rem !important;
      }
    }
  }

  h2 {
    &.fw-normal {
      font-family: $font-family-sans-serif !important;
      font-weight: $font-weight-normal !important;
      font-size: 2rem;
    }
  }
}

.gambling-nav {
  @include media-breakpoint-down(md) {
    .wp-block-button {
      display: block;
      width: 100%;
    }

    .wp-block-button__link {
      width: 100%;
    }
  }
}

.toggle-btn {
  a {
    &::before {
      background-image: url("data:image/svg+xml,%3Csvg width='34' height='34' viewBox='0 0 34 34' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M19.8672 2C19.8672 0.895431 18.9718 0 17.8672 0C16.7626 0 15.8672 0.895431 15.8672 2V14.8889H2C0.895431 14.8889 0 15.7843 0 16.8889C0 17.9935 0.895431 18.8889 2 18.8889H15.8672V32C15.8672 33.1046 16.7626 34 17.8672 34C18.9718 34 19.8672 33.1046 19.8672 32V18.8889H32C33.1046 18.8889 34 17.9935 34 16.8889C34 15.7843 33.1046 14.8889 32 14.8889H19.8672V2Z' fill='%23F7C844'/%3E%3C/svg%3E%0A") !important;
      height: 2rem !important;
      width: 2rem !important;
      margin: 0 1rem -0.6rem 0 !important;
    }
  }
}
